<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>兌換商品審核</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
  <div class="container mt-5">
    <h2 class="mb-4">兌換商品審核</h2>

    <table class="table table-bordered bg-white">
      <thead class="table-secondary">
        <tr>
          <th>ID</th>
          <th>使用者</th>
          <th>商品名稱</th>
          <th>積分</th>
          <th>申請時間</th>
          <th>操作</th>
        </tr>
      </thead>
      <tbody>
        {% for req in requests %}
        <tr>
          <td>{{ req.id }}</td>
          <td>{{ req.user_id }}</td>
          <td>{{ req.product_name }}</td>
          <td>{{ req.points }}</td>
          <td>{{ req.created_at }}</td>
          <td>
            <!-- 通過 -->
            <form action="{{ url_for('review_submit') }}" method="post" class="d-inline">
              <input type="hidden" name="id" value="{{ req.id }}">
              <input type="hidden" name="status" value="通過">
              <button type="submit" class="btn btn-success btn-sm">通過</button>
            </form>
            <!-- 退回 -->
            <form action="{{ url_for('review_submit') }}" method="post" class="d-inline">
              <input type="hidden" name="id" value="{{ req.id }}">
              <input type="hidden" name="status" value="退回">
              <button type="submit" class="btn btn-danger btn-sm">退回</button>
            </form>
          </td>
        </tr>
        {% else %}
        <tr>
          <td colspan="6" class="text-center">目前沒有待審核的申請</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</body>
</html>

